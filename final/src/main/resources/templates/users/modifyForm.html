<!DOCTYPE html>
<!-- 회원 가입 페이지. 'layout/default.html'를 레이아웃으로 사용-->
<html lang="ko" xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <meta charset="UTF-8">
    <title>회원 정보 수정 </title>
</head>
<body>
    <div layout:fragment="content">
        <div class="container">
            <h2>회원 정보 수정 PAGE </h2>
            <p>회원 정보 수정 페이지 입니다 </p>
            <p>아이디 , 이름은 변경이 불가하며 </p>
            <p>비밀번호 , 이메일은 변경이 가능합니다.  </p>
            <form th:action="@{/users/modify}" method="post">
                <!--
                signupForm을 가져와서 수정을 함 ( 형태를 회원 가입 형태랑 비슷하게 함
                : 회원 가입한 정보 내용이 회원 정보 수정 기능이랑 비슷하게 하기 위해 )
                아이디 ,이름 : 수정이 되면 안되기에 readonly 를 붙여 읽기만 가능하도록 설정함.
                (읽기 전용 기능,disabled는 서버로 제출이 되지 않기 때문)
                비밀번호 , 이메일 : required(값이 null이면 안되기 때문에 붙인 것) ,
                -->
                <div class="mb-3">
                    <label for="userid" class="form-label">아이디</label>
                    <!-- 아이디는 수정 불가능하게 readonly 속성 추가 -->
                    <input type="text" class="form-control" id="userid" name="id" th:value="${user.id}" readonly>
                </div>
                <div class="mb-3">
                    <label for="username" class="form-label">이름</label>
                    <!-- 이름도 수정 불가능하게 readonly 속성 추가 (요구사항에 따라 변경 가능) -->
                    <input type="text" class="form-control" id="username" name="name" th:value="${user.name}" readonly>
                </div>
                <div class="mb-3">
                    <label for="userpw" class="form-label">비밀번호</label>
                    <input type="text" class="form-control" id="userpw" name="password" th:value="${user.password}" required
                           placeholder="필수로 입력,변경할 비밀번호를 입력해주세요/변경을 원하지 않으시면 취소버튼을 눌러주세요">
                </div>
                <div class="mb-3">
                    <label for="useremail" class="form-label">이메일</label>
                    <input type="email" class="form-control" id="useremail" name="email" th:value="${user.email}">
                </div>
                <button type="submit" class="btn btn-primary">변경</button> <!-- 회원정보수정완료를 누르면 Service 로 전달하여 DB에서 수정을 할수 있도록 실행 -->
                <a href="/" class="btn btn-secondary">취소</a> <!-- 취소를 누르면 홈으로 이동하도록 설정 -->
            </form>
        </div>
    </div>
</body>
</html>